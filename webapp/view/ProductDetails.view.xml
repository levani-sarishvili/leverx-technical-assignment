<mvc:View
  controllerName="levani.sarishvili.controller.ProductDetails"
  displayBlock="true"
  xmlns="sap.m"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns:f="sap.f"
  xmlns:form="sap.ui.layout.form"
  xmlns:fb="sap.ui.comp.filterbar"
  xmlns:t="sap.ui.table"
  xmlns:rowmode="sap.ui.table.rowmodes"
  xmlns:core="sap.ui.core"
  xmlns:layout="sap.ui.layout">

  <f:DynamicPage
    toggleHeaderOnTitleClick="true"
    preserveHeaderStateOnScroll="false"
    class="sapUiNoContentPadding">

    <f:title>
      <f:DynamicPageTitle>
        <f:snappedContent>
          <HBox width="100%" alignItems="Center" justifyContent="SpaceBetween">
            <Breadcrumbs separatorStyle="{/selected}"
              currentLocationText="{i18n>breadcrumbProductDetails}">
              <Link text="{i18n>breadcrumbHome}" press=".onNavToHome" />
            </Breadcrumbs>

            <HBox justifyContent="End">
              <Button
                text="{i18n>editButtonText}"
                press=".onAddOrderPress"
                type="Emphasized"
                class="sapUiSmallMarginEnd" />
              <Button
                text="{i18n>deleteButtonText}"
                type="Ghost"
                enabled="{= ${selectionModel>/selectedProductIds}.length > 0 }"
                press=".onDeleteOrderPress" />
            </HBox>
          </HBox>
        </f:snappedContent>

        <f:expandedContent>
          <HBox alignItems="Center" justifyContent="SpaceBetween">
            <Breadcrumbs separatorStyle="{/selected}"
              currentLocationText="{i18n>breadcrumbProductDetails}">
              <Link text="{i18n>breadcrumbHome}" press=".onNavToHome" />
            </Breadcrumbs>

            <HBox justifyContent="End">
              <Button
                text="{i18n>editButtonText}"
                press=".onAddOrderPress"
                type="Emphasized"
                class="sapUiSmallMarginEnd" />
              <Button
                text="{i18n>deleteButtonText}"
                type="Ghost"
                enabled="{= ${selectionModel>/selectedProductIds}.length > 0 }"
                press=".onDeleteOrderPress" />
            </HBox>
          </HBox>
        </f:expandedContent>

        <f:heading>
          <VBox>
            <Title text="{Name}" level="H1" />
            <Label text="{Id}" />
          </VBox>
        </f:heading>
      </f:DynamicPageTitle>
    </f:title>

    <f:header>
      <f:DynamicPageHeader pinnable="true">
        <VBox>
          <form:SimpleForm
            layout="ColumnLayout"
            columnsM="3"
            columnsL="4"
            columnsXL="5"
          >
            <form:content>
              <Label text="Name" />
              <Text text="{Name}" />

              <Label text="Price" />
              <ObjectNumber
                number="{path: 'Price'}"
                unit="USD"
                emphasized="false"
              />

              <Label text="Category" />
              <Text text="{Category}" />

              <Label text="Brand" />
              <Text text="{Brand}" />

              <Label text="SupplierName" />
              <Text text="{SupplierName}" />

              <Label text="ReleaseDate" />
              <Text text="{ReleaseDate}" />

              <Label text="Rating" />
              <RatingIndicator
                displayOnly="true"
                iconSize="1.2rem"
                value="{Rating}" />
            </form:content>
          </form:SimpleForm>
        </VBox>
      </f:DynamicPageHeader>
    </f:header>

    <f:content>
      <FlexBox width="100%">
        <t:Table
          class="sapUiResponsiveMargin"
          rows="{/SalesOrders}"
          rowSelectionChange="onRowSelectionChange"
          ariaLabelledBy="title"
          id="productDetailsTable"
          selectionMode="MultiToggle"
          rowActionCount="1"
          selectionBehavior="Row"
          alternateRowColors="true"
        >

          <t:rowMode>
            <rowmode:Auto
              minRowCount="20" />
          </t:rowMode>

          <t:extension>
            <OverflowToolbar style="Standard">
              <Title
                text="Orders" />
              <ToolbarSpacer />

              <SearchField width="20rem" placeholder="Search order"></SearchField>
            </OverflowToolbar>
          </t:extension>

          <t:columns>
            <!-- OrderId -->
            <t:Column
              hAlign="Begin"
              sortProperty="OrderId"
              width="10%"
            >
              <Label text="{i18n>orderTableIdColumn}" />
              <t:template>
                <Text text="{OrderId}" />
              </t:template>
            </t:Column>

            <!-- Customer -->
            <t:Column
              hAlign="Begin"
              sortProperty="Customer"
              width="20%"
            >
              <Label text="{i18n>orderTableCustomerColumn}" />
              <t:template>
                <Text text="{Customer}" />
              </t:template>
            </t:Column>

            <!-- Quantity -->
            <t:Column
              hAlign="End"
              sortProperty="Quantity"
              width="10%"
            >
              <Label text="{i18n>orderTableQuantityColumn}" />
              <t:template>
                <Text text="{Quantity}" />
              </t:template>
            </t:Column>

            <!-- OrderDate -->
            <t:Column
              hAlign="End"
              sortProperty="OrderDate"
              width="15%"
            >
              <Label text="{i18n>orderTableOrderDateColumn}" />
              <t:template>
                <Text text="{OrderDate}" />
              </t:template>
            </t:Column>

            <!-- Status -->
            <t:Column
              hAlign="Begin"
              sortProperty="Status"
              width="15%"
            >
              <Label text="{i18n>orderTableStatusColumn}" />
              <t:template>
                <ObjectStatus
                  text="{Status}"
                  state="{
                    path: 'Status',
                    formatter: '.formatter.formatOrderStatus'
                }" />
              </t:template>
            </t:Column>

            <!-- ShippingCost -->
            <t:Column
              hAlign="End"
              sortProperty="ShippingCost"
              width="15%"
            >
              <Label text="{i18n>orderTableShippingCostColumn}" />
              <t:template>
                <ObjectNumber
                  number="{path: 'ShippingCost'}"
                  unit="USD"
                  emphasized="false"
                  textAlign="End"
                />
              </t:template>
            </t:Column>
          </t:columns>

          <!-- TotalPrice -->
          <t:Column
            hAlign="End"
            sortProperty="TotalPrice"
            width="15%"
          >
            <Label text="{i18n>orderTableTotalPriceColumn}" />
            <t:template>
              <ObjectNumber
                number="{path: 'TotalPrice'}"
                unit="USD"
                emphasized="false"
                textAlign="End"
              />
            </t:template>
          </t:Column>

          <!-- Row Actions -->
          <t:rowActionTemplate>
            <t:RowAction>
              <t:RowActionItem
                icon="sap-icon://feeder-arrow"
                type="Custom"
                press=".onEditRowPress" />
            </t:RowAction>
          </t:rowActionTemplate>
        </t:Table>
      </FlexBox>
    </f:content>
  </f:DynamicPage>
</mvc:View>